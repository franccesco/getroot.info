---
layout: post
title: 'The PenTesters Framework (PTF): Instalar y mantener herramientas de Pentesting'
date: '2017-09-10 22:49:28'
tags:
- ptf
- tools
---

Instalar herramientas para pentesting usualmente es un problema, ya sean problemas de dependencias o librerias, configuraciones y alteraciones en el sistema, y tambien el factor tiempo, que desperdiciamos buscando como instalar una herramienta.

![Portada](/content/images/2017/09/Screenshot-from-2017-09-10-16-25-46.png)

Es una necesidad en este rubro mantener herramientas actualizadas y las hachas afiladas. Creado por David Kennedy, conocido por Metasploit, Social Engineering Toolkit, TrustedSec, etc.

PTF es un excelente programa que mantiene un index de varias herramientas que podemos instalar en sistemas Debian/Ubuntu/ArchLinux y las coloca en el folder /pentest (en el directorio raiz) y crea automaticamente un vinculo al que podamos acceder facilmente desde la consola ya sea PTF o la herramienta.

![Modulos](/content/images/2017/09/Screenshot-from-2017-09-10-16-29-24.png)

PTF divide las herramientas en módulos, a la fecha **hay 210 modulos** en la **version 1.15**, con una interfaz muy *metasploi-esque*.

![Instalar WPScan](/content/images/2017/09/Screenshot-from-2017-09-10-16-34-04.png)

# Instalando PTF

Easy-peasy. Clonamos el repositorio y ejecutamos **PTF**:
```
$ git clone https://github.com/trustedsec/ptf.git
$ sudo ./ptf
```

Luego que entramos al menú principal, vamos a ver que modulos encontramos:
```
ptf> show modules


The PenTesters Framework Modules
=================================

   Name                                                 Description 
   ----                                                 ---------------
    
   modules/install_update_all                           This will install or update all tools with modules within PTF
   modules/update_installed                             This will update all installed tools within PTF
   modules/mobile-analysis/backHack                     This module will install/update backHack.
   modules/webshells/wso                                This module will install/update WSO - PHP webshell by Hardlinux
   modules/webshells/weevely                            This module will install/update Weevely - a webshell
   modules/webshells/blackarch                          This module will install/update BlackArch WebShells - a collection of different webshells
----- SNIP -----
```

Si queremos instalar WPScan entonces usamos el módulo y lo instalamos:
```
ptf> use modules/vulnerability-analysis/wpscan
ptf:(modules/vulnerability-analysis/wpscan)>install



Module Author:         Mauro Risonho de Paula Assumpcao (firebits)
Module Description:    This module will install/update wpscan - a black box WP scanner
-------------------------------------------------------------------------------------
INSTALL_TYPE:           GIT
REPOSITORY_LOCATION:    https://github.com/wpscanteam/wpscan/
INSTALL_LOCATION:       /pentest/vulnerability-analysis/wpscan/
-------------------------------------------------------------------------------------
[*] Preparing dependencies for module: modules/vulnerability-analysis/wpscan
Reading package lists...
Building dependency tree...
Reading state information...
make is already the newest version (4.1-6).
ruby is already the newest version (1:2.3.0+1).
ruby-dev is already the newest version (1:2.3.0+1).
git is already the newest version (1:2.7.4-0ubuntu1.2).
libcurl4-openssl-dev is already the newest version (7.47.0-1ubuntu2.2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
[*] Pre-reqs for modules/vulnerability-analysis/wpscan have been installed.
[*] Making the appropriate directory structure first
[*] GIT was the selected method for installation... Using GIT to install.
[*] Installing now.. be patient...
[*] Finished Installing! Enjoy the tool located under: /pentest/vulnerability-analysis/wpscan/
```

Una vez instalado podemos salir de la interfaz (*exit* o *quit*) y ejecutamos el programa con confianza:

![WPScan](/content/images/2017/09/Screenshot-from-2017-09-10-16-38-00.png)

Como ven, instalar y actualizar las herramientas es muy facil, mas con el modulo:
```
modules/update_installed                             This will update all installed tools within PTF
```

Que nos actualiza todas las herramientas instaladas y también:
```
modules/install_update_all                           This will install or update all tools with modules within PTF
```

Que instala todos los módulos/herramientas en el repositorio (esto podría llevar mucho tiempo)

No hay duda que ahora comanzaré a utilizar esta herramienta :)
Aquí hay un ejemplo de instalación de PTF y el Social Engineering Toolkit:

#<script type="text/javascript" src="https://asciinema.org/a/0c5tJ2G6YqZBFqGWqCK3AHX9h.js" id="asciicast-0c5tJ2G6YqZBFqGWqCK3AHX9h" async></script>